{% extends "Home.html" %}
{% load static %}
{% block title %}{% endblock %}
{% block content %}




<link rel="stylesheet"  href="{% static 'sellForm.css' %}">
     <div class="main-content">
  <div class="form-container">
    <img id="logo" src="{% static 'photo/unnamed.png' %}" alt="">
    <h2>Post Your Ad</h2>
    <p>LUCK By Chance....</p>
    
  <form method="post"  enctype="multipart/form-data" id="ad-form" data-subcat-url="{% url 'load_subcategories' %}">
      {% csrf_token %}
      {{ form.non_field_errors }}
      {{ image_form.non_field_errors }}
      <!-- Add this near the top of your form -->
{% if form.errors or image_form.errors %}
<div class="form-errors">
    <ul>
        {% for field in form %}
            {% for error in field.errors %}
                <li>{{ field.label }}: {{ error }}</li>
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            <li>{{ error }}</li>
        {% endfor %}
        {% for error in image_form.errors %}
            <li>{{ error }}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

      <div class="form-group">
        <label for="id_title">Title*</label>
        {{ form.title }}
        {{ form.title.errors }}
      </div>

      <div class="form-group">
        <label for="id_category">Category*</label>
        {{ form.category }}
        {{ form.category.errors }}
      </div>

      <div class="form-group">
        <label for="id_subcategory">Subcategory*</label>
        {{ form.subcategory }}
        <span id="subcat-loading" class="loading">Loading subcategories...</span>
        {{ form.subcategory.errors }}
      </div>

      <div class="form-group">
        <label for="id_description">Description*</label>
        {{ form.description }}
        {{ form.description.errors }}
      </div>

      <div class="form-group">
        <label for="id_price">Price*</label>
        {{ form.price }}
        <label for="id_is_negotiable" style="display: inline; margin-left: 10px;">
          {{ form.is_negotiable }} Negotiable
        </label>
        {{ form.price.errors }}
      </div>

      <div class="form-group">
        <label for="id_condition">Condition*</label>
        {{ form.condition }}
        {{ form.condition.errors }}
      </div>

      <div class="form-group">
        <label for="id_location">Location*</label>
        {{ form.location }}
        {{ form.location.errors }}
      </div>
      


      <div class="form-group">
        <label for="id_contact_phone">Phone Number*</label>
        {{ form.contact_phone }}
        {{ form.contact_phone.errors }}
      </div>

      <div class="form-group">
        <label for="id_contact_email">Email</label>
        {{ form.contact_email }}
        {{ form.contact_email.errors }}
      </div>

      <div class="form-group">
        <label for="id_whatsapp_number">WhatsApp Number</label>
        {{ form.whatsapp_number }}
        {{ form.whatsapp_number.errors }}
      </div>

      <div class="form-group">
        <label for="id_images">Upload Images (max 6)</label>
        <input type="file" name="images" id="id_images" multiple accept="image/*" class="file-upload" />

        <!-- {{ image_form.images }} -->
        <div id="file-list"></div>
        {{ image_form.images.errors }}
        <small>Accepted formats: JPG, PNG, GIF. Max 5MB per image.</small>
      </div>

      <button type="submit" class="submit-btn">Post Ad</button>
    </form>
  </div>



  <div class="aside-preview">
    <h3>Review your form</h3>
    <p>Ensure all details are correct before submitting.</p>
    <h1 id="title">Title: </h1>
    <h2 id="category">Category: </h2>
    <!-- <h2 id="subcategory">Subcategory: </h2> -->
    <p id="description">Description: </p>
    <p id="price">Price: </p>
    <p id="condition">Condition: </p>
    <p id="contact_phone">Contact_number: </p>
    <p id="contact_email">contact_email: </p>
    <p id="whatsapp_number">WhatsApp_no: </p>
    <div id="image-preview">Images: </div>
  </div>
</div>

  <script src="{% static 'sellForm.js' %}"></script>

  {% endblock %}

 